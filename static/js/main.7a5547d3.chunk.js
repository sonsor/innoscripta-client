(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(23),r=a.n(l),i=a(27),s=a(26),u=a(112),o=a(119),m=a(120),d=a(113),p=a(114),E=a(7),h=function(){var e=Object(E.c)((function(e){return e.cart})),t=Object(E.b)(),a=o.a.Brand,n=o.a.Toggle,l=o.a.Collapse;return c.a.createElement(o.a,{bg:"dark",variant:"dark",className:"justify-content-end"},c.a.createElement(u.a,null,c.a.createElement(a,{href:"#home"},"Innoscripta"),c.a.createElement(n,{"aria-controls":"basic-navbar-nav"}),c.a.createElement(l,{id:"justify-content-end"},c.a.createElement(m.a,{className:"mr-auto"}),c.a.createElement(m.a,null,c.a.createElement(i.b,{as:i.b,to:"/"},"Menu"),c.a.createElement(i.b,{as:i.b,to:"/checkout"},"Checkout")),e.items.length>0&&c.a.createElement(d.a,{variant:"outline-success",onClick:function(e){t({type:"TOGGLE_CART"})}},c.a.createElement("span",{className:"text-muted"},"Cart"),c.a.createElement(p.a,{variant:"secondary",pill:!0},e.items.length)))))};h.displayName=h;var y=h,f=a(121),O=a(115),v=a(72),N=a(12),b=a(118),T=function(e){var t=Object(n.useState)(e.value),a=Object(N.a)(t,2),l=a[0],r=a[1],i=b.a.Control,s=b.a.Group,u=e.onChange,o=function(e){r(e),"function"===typeof u&&u(e)};return c.a.createElement(s,{clas:!0},c.a.createElement("span",{className:"input-group-btn"},c.a.createElement(d.a,{onClick:function(){l>1&&o(l-1)}},c.a.createElement("span",{className:"glyphicon glyphicon-minus"},"-"))),c.a.createElement(i,{type:"email",placeholder:"0",value:l,size:"sm",onChange:function(e){e.target.value>0&&o(e.target.value)}}),c.a.createElement("span",{className:"input-group-btn"},c.a.createElement(d.a,{onClick:function(){o(l+1)}},c.a.createElement("span",{className:"glyphicon glyphicon-plus"},"+"))))};T.displayName="Quantity";var I=T,C=a(73),g=function(e){var t=e.value,a=e.unit,n=void 0===a?"eur":a,l=Object(C.a)(e,["value","unit"]);return"usd"===n?c.a.createElement("sapn",l,"$",(1.08*t).toFixed(2)):c.a.createElement("sapn",l,"\u20ac",(1*t).toFixed(2))};g.displayName="Price";var _=g,A=function(e){var t=e.id,a=e.name,n=e.quantity,l=e.price,r=e.onRemove,i=e.onUpdateQuantity;return c.a.createElement(f.a.Item,null,c.a.createElement("hr",null),c.a.createElement(O.a,null,c.a.createElement(v.a,{sm:4},c.a.createElement("h6",{className:"my-0"},a)),c.a.createElement(v.a,{sm:2},c.a.createElement(I,{value:n,onChange:i})),c.a.createElement(v.a,{sm:1},c.a.createElement("span",{className:"text-muted"}," X ")),c.a.createElement(v.a,{sm:1},c.a.createElement(_,{className:"text-muted",value:l})),c.a.createElement(v.a,{sm:2},c.a.createElement(_,{className:"text-muted",value:n*l})),c.a.createElement(v.a,{sm:2},c.a.createElement(d.a,{variant:"dark",onClick:r(t)},"Remove"))))};A.displayName="Item";var j=A,G=a(117),D=a(122),L=function(e){var t=G.a.Header,a=G.a.Title,n=G.a.Body,l=G.a.Footer,r=Object(E.c)((function(e){return e.cart})),i=Object(E.b)(),s=function(e){i({type:"TOGGLE_CART"})},u=function(e){return function(t){i({type:"CART_REMOVE_ITEM",payload:{id:e,quantity:t}})}};return c.a.createElement(G.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",show:r.show,onHide:s},c.a.createElement(t,{closeButton:!0},c.a.createElement(a,{id:"contained-modal-title-vcenter"},c.a.createElement("span",{className:"text-muted"},"Your cart"),c.a.createElement(p.a,{variant:"secondary",pill:!0},r.items.length))),c.a.createElement(n,null,c.a.createElement(f.a,null,c.a.createElement(f.a.Item,null,c.a.createElement(O.a,null,c.a.createElement(v.a,{sm:4},c.a.createElement("h6",{className:"my-0"},"Name")),c.a.createElement(v.a,{sm:2},c.a.createElement("h6",{className:"text-muted"},"Quantity")),c.a.createElement(v.a,{sm:1},c.a.createElement("h6",{className:"text-muted"}," X ")),c.a.createElement(v.a,{sm:1},c.a.createElement("h6",{className:"text-muted"},"Price")),c.a.createElement(v.a,{sm:2},c.a.createElement("h6",{className:"text-muted"},"Sub Total")),c.a.createElement(v.a,{sm:2},"\xa0")))),c.a.createElement(f.a,null,r.items.map((function(e){return c.a.createElement(j,Object.assign({key:e.id,onRemove:u,onUpdateQuantity:(t=e.id,function(e){i({type:"UPDATE_CART_ITEM_QTY",payload:{id:t,quantity:e}})})},e));var t})))),c.a.createElement(l,null,c.a.createElement(D.a,{style:{width:"18rem"}},c.a.createElement(f.a,{variant:"flush"},c.a.createElement(f.a.Item,null,c.a.createElement("h5",null,"Sub Total: ",c.a.createElement(_,{value:r.sub_total}))),c.a.createElement(f.a.Item,null,c.a.createElement("h5",null,"Discount: ",c.a.createElement(_,{value:r.discount}))),c.a.createElement(f.a.Item,null,c.a.createElement("h5",null,"Total: ",c.a.createElement(_,{value:r.sub_total})))))),c.a.createElement(l,null,c.a.createElement(d.a,{onClick:function(t){s(t),e.history.push("/checkout")}},"Checkout")))};L.displayName="Cart";var S=Object(s.f)(L),R=a(116),k=function(){var e=Object(E.c)((function(e){return e.general.notification}));return e.type?c.a.createElement(R.a,{variant:e.type,className:"my-3"},e.message):null};k.displayName="Notification";var w=k,x=function(e){var t=e.children;return c.a.createElement(n.Fragment,null,c.a.createElement(y,null),c.a.createElement(u.a,null,c.a.createElement(w,null),t),c.a.createElement(S,null))};x.displayName="Main";var H=x,z=function(e){var t=D.a.Img,a=D.a.Body,n=D.a.Title,l=D.a.Text,r=e.id,i=e.name,s=e.thumbnail,u=e.description,o=e.price,m=e.onAdd;return c.a.createElement(D.a,{style:{width:"18rem"}},c.a.createElement(t,{variant:"top",src:s,width:300}),c.a.createElement(a,null,c.a.createElement(n,null,i),c.a.createElement(l,null,u),c.a.createElement("p",{className:"mb-2"},"Price:  ",c.a.createElement(_,{value:o,unit:"usd"})," in USD, ",c.a.createElement(_,{value:o,unit:"eur"})," in EUR"),c.a.createElement(d.a,{variant:"dark",onClick:m(r)},"+")))};z.displayName="Item";var F=z,P=function(){var e=Object(E.c)((function(e){return e.pizzas.list})),t=Object(E.b)();Object(n.useEffect)((function(){t({type:"FETCH_PIZZAS"})}),[t]);var a=function(e){return function(a){t({type:"ADD_TO_CART",payload:{product_id:e,quantity:1}})}};return c.a.createElement(O.a,null,e.map((function(e){return c.a.createElement(v.a,{sm:4,key:e.id},c.a.createElement(F,Object.assign({},e,{onAdd:a})))})))};P.displayName="PizzaGrid";var U=P,W=a(8),Z={api:{url:"http://localhost:3000/api"},validator:{email:/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,plain:/^[a-zA-Z]+$/,number:/^[0-9]+$/}},M=function(e){var t=b.a.Control,a=Object(n.useState)(""),l=Object(N.a)(a,2),r=l[0],i=l[1],s=Object(n.useState)(""),u=Object(N.a)(s,2),o=u[0],m=u[1],p=Object(n.useState)(""),E=Object(N.a)(p,2),h=E[0],y=E[1],f=Object(n.useState)(""),T=Object(N.a)(f,2),I=T[0],C=T[1],g=Object(n.useState)(""),_=Object(N.a)(g,2),A=_[0],j=_[1],G=Object(n.useState)(""),D=Object(N.a)(G,2),L=D[0],S=D[1],R=Object(n.useState)(""),k=Object(N.a)(R,2),w=k[0],x=k[1],H=Object(n.useState)(""),z=Object(N.a)(H,2),F=z[0],P=z[1],U=Object(n.useState)([]),M=Object(N.a)(U,2),q=M[0],B=M[1],Q=Object(n.useState)(!1),$=Object(N.a)(Q,2),Y=$[0],V=$[1],J=function(e){return function(t){var a=t.target.value;switch(e){case"firstName":i(a);break;case"lastName":m(a);break;case"email":y(a);break;case"phone":C(a);break;case"address":j(a);break;case"country":S(a);break;case"city":x(a);break;case"zipcode":P(a)}}},K=function(e){return q.indexOf(e)>-1};return c.a.createElement(b.a,{onSubmit:function(t){if(t.preventDefault(),t.stopPropagation(),V(!0),function(){var e=[];return Z.validator.plain.test(r)||e.push("firstName"),Z.validator.plain.test(o)||e.push("lastName"),Z.validator.email.test(h)||e.push("email"),Z.validator.number.test(I)||e.push("phone"),Z.validator.plain.test(A)||e.push("address"),Z.validator.plain.test(L)||e.push("country"),Z.validator.plain.test(w)||e.push("city"),Z.validator.plain.test(F)||e.push("zipcode"),B(e),0===e.length}()&&(alert(1),"function"===typeof e.onCheckout)){alert(2);var a={firstName:r,lastName:o,email:h,phone:I,address:A,country:L,city:w,zipcode:F};return e.onCheckout(Object(W.a)({},a))}V(!1)},noValidate:!0,disabled:Y},c.a.createElement("h6",null,"Delivery Information"),c.a.createElement(O.a,{className:"my-3"},c.a.createElement(v.a,null,c.a.createElement(t,{placeholder:"First Name",value:r,onChange:J("firstName"),isInvalid:K("lastName")})),c.a.createElement(v.a,null,c.a.createElement(t,{placeholder:"Last name",value:o,onChange:J("lastName"),isInvalid:K("lastName")}))),c.a.createElement(O.a,{className:"my-3"},c.a.createElement(v.a,null,c.a.createElement(t,{placeholder:"Email",value:h,onChange:J("email"),isInvalid:K("email")})),c.a.createElement(v.a,null,c.a.createElement(t,{placeholder:"Phone",value:I,onChange:J("phone"),isInvalid:K("phone")}))),c.a.createElement(O.a,{className:"my-3"},c.a.createElement(v.a,null,c.a.createElement(t,{placeholder:"Address",value:A,onChange:J("address"),isInvalid:K("address")}))),c.a.createElement(O.a,{className:"my-3"},c.a.createElement(v.a,null,c.a.createElement(t,{placeholder:"Country",value:L,onChange:J("country"),isInvalid:K("country")})),c.a.createElement(v.a,null,c.a.createElement(t,{placeholder:"State / City",value:w,onChange:J("city"),isInvalid:K("city")})),c.a.createElement(v.a,null,c.a.createElement(t,{placeholder:"Zip Code",value:F,onChange:J("zipcode"),isInvalid:K("zipcode")}))),c.a.createElement(d.a,{type:"submit",variant:"primary"},"Checkout"))};M.displayName="CheckoutForm";var q=M,B=function(){var e=Object(E.c)((function(e){return e.cart}));return c.a.createElement(n.Fragment,null,c.a.createElement("h4",{className:"d-flex justify-content-between align-items-center mb-3"},c.a.createElement("span",{className:"text-muted"},"Your Cart"),c.a.createElement(p.a,{pill:!0},e.items.length)),c.a.createElement(f.a,{as:"ul"},e.items.map((function(e){return c.a.createElement(f.a.Item,{as:"li",className:"d-flex justify-content-between lh-condensed"},c.a.createElement("div",null,c.a.createElement("h6",{className:"my-0"},e.name)),c.a.createElement(_,{className:"text-muted",value:e.price*e.quantity}))})),c.a.createElement(f.a.Item,{as:"li",className:"d-flex justify-content-between lh-condensed"},c.a.createElement("div",null,c.a.createElement("h6",{className:"my-0"},"Sub Total")),c.a.createElement(_,{className:"text-muted",value:e.sub_total})),c.a.createElement(f.a.Item,{as:"li",className:"d-flex justify-content-between lh-condensed"},c.a.createElement("div",null,c.a.createElement("h6",{className:"my-0"},"Discount")),c.a.createElement(_,{className:"text-muted",value:e.discount})),c.a.createElement(f.a.Item,{as:"li",className:"d-flex justify-content-between lh-condensed"},c.a.createElement("div",null,c.a.createElement("h6",{className:"my-0"},"Delivery Charges")),c.a.createElement(_,{className:"text-muted",value:e.shipping_cost})),c.a.createElement(f.a.Item,{as:"li",className:"d-flex justify-content-between lh-condensed"},c.a.createElement("div",null,c.a.createElement("h6",{className:"my-0"},"Total")),c.a.createElement(_,{className:"text-muted",value:e.total}))))};B.displayName="SmartCart";var Q=B,$=function(){var e=Object(E.c)((function(e){return e.cart})),t=Object(E.b)();return!e.id||e.items.length<=0?c.a.createElement(O.a,{className:"my-5"},c.a.createElement(v.a,{className:"d-flex justify-content-center"},c.a.createElement("h1",null,"Please first select some pizza to do checkout"))):c.a.createElement(n.Fragment,null,c.a.createElement("h3",{className:"my-3"},"Checkout"),c.a.createElement(O.a,null,c.a.createElement(v.a,{md:8},c.a.createElement(q,{onCheckout:function(a){t({type:"DO_CHECKOUT",payload:{id:e.id,values:a}})}})),c.a.createElement(v.a,{md:4},c.a.createElement(Q,null))))};$.displayName="Checkout";var Y=$,V=function(){return c.a.createElement(i.a,null,c.a.createElement(s.c,null,c.a.createElement(s.a,{exact:!0,path:"/"},c.a.createElement(H,null,c.a.createElement(U,null))),c.a.createElement(s.a,{exact:!0,path:"/checkout"},c.a.createElement(H,null,c.a.createElement(Y,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(92);var J=a(20),K=a(32),X={loading:!0,notification:{type:"",message:""}},ee={list:[]},te={loading:!1,show:!1,id:"",sub_total:0,discount:0,shipping_cost:0,total:0,items:[]},ae={general:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(console.log("state : ",e),t.type){case"SHOW_LOADING":return Object(W.a)({},e,{loading:!0});case"HIDE_LOADING":return Object(W.a)({},e,{loading:!1});case"SHOW_NOTIFICATION":return Object(W.a)({},e,{notification:Object(W.a)({},t.payload)});case"HIDE_NOTIFICATION":return Object(W.a)({},e,{notification:Object(W.a)({},X.notification)});default:return e}},pizzas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(console.log("action : ",t),t.type){case"PIZZAS_FETCHED":return Object(W.a)({},e,{list:[].concat(Object(J.a)(e.list),Object(J.a)(t.payload))});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_SHOW_LOADING":return Object(W.a)({},e,{loading:!0});case"CART_HIDE_LOADING":return Object(W.a)({},e,{loading:!1});case"SHOW_CART":return Object(W.a)({},e,{show:!0});case"HIDE_CART":return Object(W.a)({},e,{show:!1});case"CART_UPDATED":return Object(W.a)({},e,{id:t.payload.id,sub_total:t.payload.sub_total,total:t.payload.total,discount:t.payload.discount,shipping_cost:t.payload.shipping_cost,items:Object(J.a)(t.payload.items)});case"CLEAR_CART":return te;default:return e}}},ne=a(78),ce=function(e){return function(t){return function(a){var n=e.getState().general.loading;return"TOGGLE_LOADING"===a.type&&(n?e.dispatch({type:"HIDE_LOADING"}):e.dispatch({type:"SHOW_LOADING"})),t(a)}}},le=function(e){return function(t){return function(a){var n=e.getState(),c=a.type,l=a.payload;return"TOGGLE_NOTIFICATION"===c&&(n.general.notification.type&&e.dispatch({type:"HIDE_NOTIFICATION"}),n.general.notification.type||(e.dispatch({type:"SHOW_NOTIFICATION",payload:l}),setTimeout((function(){e.dispatch({type:"HIDE_NOTIFICATION"})}),1e3))),t(a)}}},re=[a.n(ne).a,ce,le],ie=a(16),se=a.n(ie),ue=function(e){return function(t){return function(a){return"FETCH_PIZZAS"===a.type&&se.a.get(Z.api.url+"/pizzas").then((function(t){e.dispatch({type:"PIZZAS_FETCHED",payload:t.data})})),t(a)}}},oe=function(e,t){return t.map((function(t){return e.pizzas.list.some((function(e){if(e.id===t.pizza_id)return t.name=e.name,!0})),t}))},me=[function(e){return function(t){return function(a){var n=e.getState();return"CART_TOGGLE_LOADING"===a.type&&(n.cart.loading?e.dispatch({type:"CART_HIDE_LOADING"}):e.dispatch({type:"CART_SHOW_LOADING"})),t(a)}}},function(e){return function(t){return function(a){var n=e.getState();return"TOGGLE_CART"===a.type&&(n.cart.show?e.dispatch({type:"HIDE_CART"}):e.dispatch({type:"SHOW_CART"})),t(a)}}},function(e){return function(t){return function(a){var n=e.getState();"ADD_TO_CART"===a.type&&(e.dispatch({type:"CART_TOGGLE_LOADING"}),function(e,t){return new Promise((function(a,n){e.cart.id?a(e.cart.id):se.a.post(t.api.url+"/cart",{}).then((function(e){return a(e.data.id)})).catch(n)}))}(n,Z).then((function(t){se.a.post(Z.api.url+"/cart/"+t+"/items",a.payload).then((function(t){t.data.items=oe(n,t.data.items),e.dispatch({type:"CART_UPDATED",payload:t.data}),e.dispatch({type:"CART_TOGGLE_LOADING"}),e.dispatch({type:"TOGGLE_NOTIFICATION",payload:{type:"success",message:"Item Added Succesfully"}})})).catch((function(t){e.dispatch({type:"CART_TOGGLE_LOADING"}),e.dispatch({type:"TOGGLE_NOTIFICATION",payload:{type:"warning",message:"There is some error in process please try again later"}})}))})));return t(a)}}},function(e){return function(t){return function(a){var n=e.getState();return"CART_REMOVE_ITEM"===a.type&&(e.dispatch({type:"CART_TOGGLE_LOADING"}),se.a.delete(Z.api.url+"/cart/"+n.cart.id+"/items/"+a.payload.id).then((function(t){t.data.items=oe(n,t.data.items),e.dispatch({type:"CART_UPDATED",payload:t.data}),e.dispatch({type:"CART_TOGGLE_LOADING"})})).catch(console.log)),t(a)}}},function(e){return function(t){return function(a){var n=e.getState();return"UPDATE_CART_ITEM_QTY"===a.type&&(e.dispatch({type:"CART_TOGGLE_LOADING"}),se.a.patch(Z.api.url+"/cart/"+n.cart.id+"/items/"+a.payload.id,{quantity:a.payload.quantity}).then((function(t){t.data.items=oe(n,t.data.items),e.dispatch({type:"CART_UPDATED",payload:t.data}),e.dispatch({type:"CART_TOGGLE_LOADING"})})).catch(console.log)),t(a)}}}],de=function(e){return function(t){return function(a){var n=a.type,c=a.payload;return"DO_CHECKOUT"===n&&(e.dispatch({type:"TOGGLE_LOADING"}),se.a.post(Z.api.url+"/cart/"+c.id+"/checkout",c.values).then((function(t){e.dispatch({type:"TOGGLE_NOTIFICATION",payload:{type:"success",message:"Successfully Processed."}}),e.dispatch({type:"CLEAR_CART"}),e.dispatch({type:"TOGGLE_LOADING"})})).catch((function(t){return e.dispatch({type:"TOGGLE_LOADING"})}))),t(a)}}},pe=[].concat(Object(J.a)(re),[ue],Object(J.a)(me),[de]),Ee=a(79),he=function(e){return Object(K.d)(Object(K.c)(ae),e,K.a.apply(void 0,[Ee.a].concat(Object(J.a)(pe))))},ye=function(){var e=he({});return c.a.createElement(n.StrictMode,null,c.a.createElement(E.a,{store:e},c.a.createElement(V,null)))};r.a.render(c.a.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},81:function(e,t,a){e.exports=a(110)}},[[81,1,2]]]);
//# sourceMappingURL=main.7a5547d3.chunk.js.map